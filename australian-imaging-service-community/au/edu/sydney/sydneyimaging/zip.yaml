arcana_spec_version: 1.0
title: 'Zip up a directory'
version:
  package: "1.0"
base_image:
  name: ubuntu
authors:
  - name: Thomas G. Close
    email: thomas.close@sydney.edu.au
docs:
  info_url: https://manpages.ubuntu.com/manpages/focal/man1/zip.1.html
  description: |
    This is a simple pipeline that simply zips up a given directory
packages:
  system:
  - zip
  - vim
  - nano
command:
  task: arcana.common:shell_cmd
  row_frequency: session
  inputs:
    to_zip:
      datatype: generic/directory
      help: "Input directory to zip"
      configuration:
        argstr: ''
        position: -1
  outputs:
    zipped:
      datatype: application/zip
      help: Zipped directory
      configuration:
        argstr: ''
        position: -2
  parameters:
    compression:
      datatype: int
      help: the level of compression applied
      default: 5
      configuration:
          argstr: -{compression}
  configuration:
    name: zip_dir
    executable: zip
    