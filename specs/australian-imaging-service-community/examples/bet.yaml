spec_version: 1.0 # the version of the specification format used for this file
title: "Example BET pipeline" # Short name for the pipeline referenced in the UI
version:
  # Define a version for the pipeline in combination of the underlying package version (e.g. FSL)
  # and the "build" of the pipeline
  package: "6.0.6.4"
  build: "1"
base_image:
  # Chose a NeuroDesk FSL container as the base
  name: vnmd/fsl_6.0.6.4
  package_manager: apt # It is not obvious from the base image what the package manager is
  tag: "20230618"
packages:
  # Install dependencies for DICOM->NIfTI conversion
  pip:
    - fileformats-medimage-extras
  neurodocker:
    dcm2niix: v1.0.20201102
authors:
  # Authors of the pipeline. The first email will be considered to be the maintainer of
  # the generated container images
  - name: Thomas G. Close
    email: thomas.close@sydney.edu.au
docs:
  info_url: https://fsl.fmrib.ox.ac.uk/fsl/fslwiki # Link to external documentation for underlying tool
  description: | # Description of tool for auto-docs
    An example wrapping BET in a XNAT pipeline
command:
  task: shell # Use the generic "shell-cmd" task
  row_frequency: session # the pipeline is desgined to run on imaging "sessions" as opposed to "subjects" or "projects"
  inputs: # List the inputs that are presented to end-user in UI
    T1w:
      datatype: medimage/nifti-gz # MIME-type or "MIME-like" format
      help: "T1-weighted anatomical scan" # description of field presented in UI
      configuration: # Additional configuration parameters that are passed to the pydra2app.common:shell task in the "inputs" dict
        position: -2 # Position of field when printed to command line call. Negative numbers are indexed from the end backwards
        argstr: "" # prefix for field when printed to command line
      column_defaults:
        datatype: medimage/dicom-series # the default
  outputs: # List the outputs generated by the pipeline
    brain:
      datatype: medimage/nifti-gz # MIME-type or "MIME-like" format
      help: Brain-extracted data # description of field presented in UI
      configuration: # Additional configuration parameters that are passed to the pydra2app.common:shell task in the "outputs" dict
        position: -1 # Position of field when printed to command line call. Negative numbers are indexed from the end backwards
        argstr: "" # prefix for field when printed to command line
  parameters: {}
  configuration: # Additional args passed to pydra2app.common:shell
    name: bet
    executable: bet
